<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Method Test</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./styles.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather+Sans:wght@300&display=swap" rel="stylesheet">
  </head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-T529DVJ2T6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-T529DVJ2T6');
  </script>
  <body>
    <nav class="nav">
      <input type="checkbox" id="nav_checkbox" class="nav_checkbox">
      <label for="nav_checkbox" class="toggle">
        &#9776;
      </label>
      <ul class="nav_menu">
        <li> <a href="./index.html">Home</a> </li>
        <li> <a href="./projects.html">Projects</a> </li>
        <li> <a href="./contact.html"> Contact  </a></li>
        <li> <a href="./musings.html">Musings</a> </li>  
      </ul>
    </nav> 
    <br>
    <h1> Method Test </h1>
    <main>
      <form>
        <fieldset>
          <legend>HTTP Methods</legend>
          <label for="id">ID:</label>
          <br>
          <input type="text" name="id" id="id" placeholder="ID">
          <br>
          <label for="article_name">Name:</label>
          <br>
          <input type="text" name="article_name" id="article_name" placeholder="Article name">
          <br>
          <label for="article_body">Body:</label>
          <br>
          <textarea name="article_body" id="article_body" placeholder="Article body"></textarea>
          <br>
          <label for="article_date">Date:</label>
          <br>
          <input type="date" id="article_date" name="article_date" readonly>
        </fieldset>
      </form>
      <span class="buttons">
        <button type="button" id="post">Post</button>
        <button type="button" id="get">Get</button>
        <button type="button" id="put">Put</button>
        <button type="button" id="delete">Delete</button>
      </span>
      <output id="response"></output>
    
    </main>
  </body>
  <script type="module">
    import {getFormData, makeRequest} from "./methodtest.js"
    //postBtn, getBtn, putBtn, and deleteBtn
    //this is one of the stupidest things I've ever seen, wtf javascript
    const date = new Date();
    document.getElementById('article_date').value = new Date(date.getTime() - (date.getTimezoneOffset() * 60000)).toISOString().split("T")[0];

    const btn1 = document.getElementById("post");
    btn1.addEventListener("click", function(){makeRequest("post")}, false);

    const btn2 = document.getElementById("get");
    btn2.addEventListener("click", function(){makeRequest("get")}, false);

    const btn3 = document.getElementById("put");
    btn3.addEventListener("click", function(){makeRequest("put")}, false);

    const btn4 = document.getElementById("delete");
    btn4.addEventListener("click", function(){makeRequest("delete")}, false);
    
  </script>
</html>